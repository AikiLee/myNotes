# 图的定义及基本概念

## 1.图的定义

图由顶点集和边集组成，可以记为G = (V,E) 其中，V为**非空点集**，E为图中点的关系即边集。这就说明没有空图，E可为空，V不能为空，此时图只有一个点

概念：

- 1.有向图

若E为弧（即有向边），则图为有向图，弧是顶点的有序对，结点v，w之间的弧可以表示为<v,w>

    - 强连通图：在有向图中，任何两点双向有路径。

- 2.无向图

若E中为边（即无向边），此时图为无向图，边可以表示为(v,w)

    - 完全图：对于无向图|E|边的范围[0,n(n-1)/2],当边为最大的时候，就可以称之为完全图

    - 连通、连通图和联通分量：无向图中，两顶点有路径就是连通。当一个图中任意两个顶点连通，则称该图为连通图。无向图中极大连通子图称为连通分量。

- 3.简单图

特点：1.不存在重复边 2.不存在顶点到自身的边

- 4.子图

有A,B两个图，当B的点集和边集都被A包含，此时可以称B为A的子图.若图包含原图的所有结点则成为生成子图![202202191653262022-02-19](https://s2.loli.net/2022/02/19/To2H8Fjz3QtBa9p.png)

- 5.顶点的度、入度和出度

顶点的度，即依附在顶点周围的边的条数。无向图的全部顶点度的和等于边数的2倍

![202202191709312022-02-19](https://s2.loli.net/2022/02/19/vy2DbjkYSOVNge8.png)

有向图，顶点的度分为入度和出度。TD(V) = ID(v) + OD(v)

- 6.边的权和网

边带的值称为权，带权图称为网

- 7.稀疏图和稠密图

当边较少（满足|E| < |V|log|V|)时，称为稀疏图。

- 8.路径、路径长度和回路

两顶点之间构成连通的顶点序列，称为路径，长度则是期间的边数。若n个结点的图，有大于n-1条边，则此图一定有环

- 9.简单路径和简单回路

路径序列中不存在重复顶点，称为简单路径。回路中除首尾顶点，顶点不重复的回路则为简单回路

- 10.两顶点之间的最短路径称为距离，无则为-inf

- 11.生成树和生产森林

包含图中全部顶点的一个极小连通图
![202202191659272022-02-19](https://s2.loli.net/2022/02/19/pVBuLIZme592Jny.png)

- 12.树

不存在回路，且连通的无向图

## 实践：图的实现

### 1.邻接矩阵法

对于图中间的关系我们可以使用如下图的式子进行表示：

![202202192229162022-02-19](https://s2.loli.net/2022/02/19/dZQiuBr3AfsyYzD.png)

对于一个这样的图：

![202202192229552022-02-19](https://s2.loli.net/2022/02/19/BHF71Ur6wWLbzYf.png)

我们就可以使用如下图这样的邻接矩阵进行表示：

![202202192230502022-02-19](https://s2.loli.net/2022/02/19/N4qsZymvUuQM71R.png)

从图中我们可以发现，对角线的两边是对称的
由此我们可以开始进行编写程序实现了

### 2.邻接表法

从下面的图中，可以发现：邻接表法，有如下特点

1. 顶点由一个数组存储，每一个数组元素存储指向第一个临界点的指针

2. 图中每个顶点vi的所有邻接点构成一个线性表，由于邻接点的个数不定，所以用单链表存储，无向图称为顶点vi的边表，有向图称为顶点vi作为弧尾的出边表。

![202202210001422022-02-21](https://s2.loli.net/2022/02/21/oaNUf4tFs5WMwLV.png)

若是有向图，邻接表的结构是类似的以顶点作为弧尾来存储边表容易得到每个顶点的出度，而以顶点为弧头的表容易得到顶点的入度，即逆邻接表。

![202202210004252022-02-21](https://s2.loli.net/2022/02/21/O7Fpx6iV3SAWtEo.png)

邻接表和邻接矩阵特点归纳

![202202212025262022-02-21](https://s2.loli.net/2022/02/21/hTX8JMDkj1oAUSw.png)

### 3.十字链表法（几乎不考）

![202202212131112022-02-21](https://s2.loli.net/2022/02/21/d3wsZxT4hJHAlkn.png)

![202202212131482022-02-21](https://s2.loli.net/2022/02/21/SpFJcVutMYfh5Lg.png)

![202202212129372022-02-21](https://s2.loli.net/2022/02/21/hWnxPBgCp2GRwmi.png)

可以发现十字链表就是邻接表法的改良版本，为有向图的存储结构

### 4.邻接多重表（几乎不考）

是无向图的存储结构

![202202222326352022-02-22](https://s2.loli.net/2022/02/22/alvibS2NzTs1MRX.png)

### 5.图的操作（在邻接矩阵和邻接表中）

1. Adjacent(G,x,y):判断图是否有边

2. Neighbour(G,x):列出与G相邻的边

3. InsertVertex(G,x):在图中插入一个新的顶点

4. Delete(G,x):在G中删除某点：

5. AddEdge（G,x):在临接矩阵中（ez），在邻接表中，头插法

6. FirstNeighbour(G,x):找第一个邻接点

7. NextNeightbour(G,x):找下一个邻接点

## 2.图的遍历

### 图的BFS

采用邻接矩阵存储（应为存储方式唯一），并且需要图是连通的

对于无向图，调用BFS的次数 = 连通分量
![202202222358222022-02-22](https://s2.loli.net/2022/02/22/ir9okq2ZNmgfJux.png)

#### 广度优先生成树

即BFS的过程，即数的层序遍历。如果中间有非连通，则会进行跳转（队列中找）

广度优先生成树：基于BFS，其探索路径就是一个生成树。如果图不连通，就会生成广度优先生成森林

#### DFS

即树的先序遍历，递归地探索图中，未被访问过的点。如果其中有非连通，会进行回退，重新寻找

归纳其寻找的特点是：1.遇到访问过的点，直接跳过2.找不到跳转点，回退，重新寻找
![202203192020112022-03-19](https://s2.loli.net/2022/03/19/z9BhclREfyUTNJX.png)

值得注意的是，基于邻接矩阵的遍历结果是**唯一**的，但基于邻接表访问的遍历，是**不唯一**

**深度优先生成树**：基于DFS，其探索路径就是一个生成树。如果图不连通，就会生成深度优先生成森林

**连通性**：

- 对于无向图：BFS／DFS调用次数就是连通分量的数目

- 对于有向图：如果是强连通图，只需要调用一次。否则，就需要根据可达性进行分析了

### 图的应用

#### 1.最小生成树

#### 2.最短路径

![202203192121512022-03-19](https://s2.loli.net/2022/03/19/mOh6FRzEDoqNkYc.png)

1. 单源最短路径：

    如果是无权图，就可使用BFS求解。
    要是带权图，就可以使用Dijkstra算法求解（在面对负权值的时候会失效）
    这里我们主要是考察d算法：
    ![202203212209572022-03-21](https://s2.loli.net/2022/03/21/oE7dpvZ3aJCnHyT.png)
    求解过程：
    1.找直接相连的边，并记录权值到dist中去
    2.每次选择dist最小值的结点，之后开始检查与dist相连的点，若小于原来值，则更新值和path（前驱数组）
    具体步骤：![202203212220522022-03-21](https://s2.loli.net/2022/03/21/qJPRbThieBwmokM.png)
    复杂度分析O(n^2)
2. 每对顶点之间的最短路径：

#### 3.拓扑排序

对一有向无环图，有如下定义：

1. 每个顶点仅出现一次

2. 若一顶点B在A之前，则不存在二者之间的路径

我们称这样的图为AOV图
如何获得这样的图的拓扑排序：

- 选择一个没有前驱的结点并输出

- 删除该顶点和以他为起点的有向边

- 重复上述过程

#### 4.有向无环图表达式

现在补充一种方法：
1.将符号排序
2.按括号的层次顺序来排列符号
3.列出叶节点的算子
4.逐层合并

#### 5.关键路径

带权有向图，以顶点表示事件，用边表示活动，权值为开销，称为用边表示活动的网路，即AOE

其具有以下性质：

1. 仅有一个开始和结束点

2. 某点代表的事件发生之和，边所代表的活动才能进行；某点入度的活动全部完成，该顶点所代表的使事件才能发生

计算关键路径的过程及需要的变量:

- ve:事件最早发生事件

    **在拓扑排序基础上进行**，按从前向后的顺序，取max{ve(j) + w(vj,vk)}

- vl:事件最迟发生事件

    **取逆拓扑排序**，取min{ve(j) - w(vj,vk)}

- e：活动最早发生时间

    即是以边前顶点的ve值确定

- l：活动最迟发生时间

    活动弧终点和事件最迟发生时间之差

- d：为0的就是关键路径

**注意事项**：

- 1.可以通过缩短关键路径时间来减少工期，但减少过多会使其失去关键路径性

- 2.网中的关键路径不唯一，所以要想减少时长得减少所有的公共路径